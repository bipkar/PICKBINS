{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\livea\\\\Documents\\\\programming\\\\nephacks\\\\NepHacks\\\\NepHacks\\\\frontend\\\\frontendapp\\\\src\\\\components\\\\home.js\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { useCookies } from \"react-cookie\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSignOutAlt } from \"@fortawesome/free-solid-svg-icons\";\nimport { Collapse, Navbar, NavbarToggler, NavbarBrand, Nav, NavItem, NavLink, UncontrolledDropdown, DropdownToggle, DropdownMenu, DropdownItem, Card, CardText, CardBody, Button } from \"reactstrap\";\nimport logo from \"../assets/logo.png\";\nimport axios from \"axios\";\n\nvar Home = function Home() {\n  var _useCookies = useCookies([\"mr-token\"]),\n      _useCookies2 = _slicedToArray(_useCookies, 3),\n      token = _useCookies2[0],\n      setToken = _useCookies2[1],\n      deleteToken = _useCookies2[2];\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isOpen = _useState2[0],\n      setIsOpen = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      date = _useState4[0],\n      setDate = _useState4[1];\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      time = _useState6[0],\n      setTime = _useState6[1];\n\n  var _useState7 = useState(),\n      _useState8 = _slicedToArray(_useState7, 2),\n      location = _useState8[0],\n      setLocation = _useState8[1];\n\n  var _useState9 = useState(),\n      _useState10 = _slicedToArray(_useState9, 2),\n      userName = _useState10[0],\n      setUserName = _useState10[1];\n\n  var _useState11 = useState(0),\n      _useState12 = _slicedToArray(_useState11, 2),\n      dashboardClicked = _useState12[0],\n      setDashboardClicked = _useState12[1];\n\n  useEffect(function () {\n    var today = new Date(),\n        date = today.getFullYear() + \"-\" + (today.getMonth() + 1) + \"-\" + today.getDate();\n    setDate(date);\n    axios.get(\"/getSchedule\", {\n      headers: {\n        Authorization: \"Bearer \" + token[\"mr-token\"]\n      }\n    }).then(function (response) {\n      console.log(response);\n      var time = 0;\n\n      if (today.getMinutes() + response.data.duration >= 60) {\n        var hr = Math.floor((today.getMinutes() + response.data.duration) / 60);\n        var minutes = (today.getMinutes() + response.data.duration) % 60;\n        var ampm = hr >= 12 ? \"pm\" : \"am\";\n        time = today.getHours() + hr + \":\" + minutes + \":\" + today.getSeconds() + ampm;\n      } else {\n        var ampm = today.getHours() >= 12 ? \"pm\" : \"am\";\n        time = today.getHours() + \":\" + (today.getMinutes() + response.data.duration) + \":\" + today.getSeconds() + ampm;\n      }\n\n      setTime(time);\n      setLocation(response.data.location);\n      setUserName(response.data.firstName);\n    }).catch(function (error) {\n      console.log(error);\n    });\n    if (!token[\"mr-token\"]) window.location.href = \"/\";\n  }, [dashboardClicked, token]);\n\n  var logoutClicked = function logoutClicked() {\n    deleteToken([\"mr-token\"]);\n  };\n\n  var onDashboardClicked = function onDashboardClicked() {\n    setDashboardClicked(function (dashboardClicked) {\n      return dashboardClicked + 1;\n    });\n  };\n\n  var toggle = function toggle() {\n    return setIsOpen(!isOpen);\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }\n  }, React.createElement(Navbar, {\n    color: \"light\",\n    light: true,\n    expand: \"md\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }\n  }, React.createElement(NavbarBrand, {\n    style: {\n      color: \"green\"\n    },\n    href: \"#\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 11\n    }\n  }, React.createElement(\"img\", {\n    src: logo,\n    width: \"30\",\n    height: \"30\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }\n  }), \"PickBins\"), React.createElement(NavbarToggler, {\n    onClick: toggle,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 11\n    }\n  }), React.createElement(Collapse, {\n    isOpen: isOpen,\n    navbar: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 11\n    }\n  }, React.createElement(Nav, {\n    className: \"mr-auto\",\n    navbar: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  }, React.createElement(NavItem, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 15\n    }\n  }, React.createElement(NavLink, {\n    style: {\n      color: \"green\"\n    },\n    href: \"#\",\n    onClick: onDashboardClicked,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 17\n    }\n  }, \"Dashboard\")), React.createElement(UncontrolledDropdown, {\n    nav: true,\n    inNavbar: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 15\n    }\n  }, React.createElement(DropdownToggle, {\n    style: {\n      color: \"green\"\n    },\n    nav: true,\n    caret: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 17\n    }\n  }, \"Options\"), React.createElement(DropdownMenu, {\n    style: {\n      color: \"green\"\n    },\n    right: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 17\n    }\n  }, React.createElement(DropdownItem, {\n    style: {\n      color: \"green\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 19\n    }\n  }, \"Contacts\"), React.createElement(DropdownItem, {\n    style: {\n      color: \"green\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 19\n    }\n  }, \"About\"), React.createElement(DropdownItem, {\n    divider: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 19\n    }\n  }), React.createElement(DropdownItem, {\n    style: {\n      color: \"red\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 19\n    }\n  }, \"Help\")))), React.createElement(Button, {\n    style: {\n      color: \"red\",\n      backgroundColor: \"white\"\n    },\n    onClick: logoutClicked,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }\n  }, React.createElement(FontAwesomeIcon, {\n    icon: faSignOutAlt,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 15\n    }\n  }), \"Logout\"))), React.createElement(\"p\", {\n    style: {\n      color: \"green\",\n      marginTop: 50\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 9\n    }\n  }, React.createElement(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 11\n    }\n  }, \"Welcome To PICK BINS \")), React.createElement(\"p\", {\n    style: {\n      color: \"green\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 9\n    }\n  }, React.createElement(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 11\n    }\n  }, \"Click on Dashboard to refresh time. Thank You! \"))), React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }\n  }, React.createElement(\"h1\", {\n    style: {\n      color: \"green\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 9\n    }\n  }, \"Hello \", userName, \" \"), React.createElement(\"h2\", {\n    style: {\n      color: \"green\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 9\n    }\n  }, \"Your next pickup is scheduled for:\"), React.createElement(\"div\", {\n    style: {\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      margin: 20,\n      display: \"flex\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 9\n    }\n  }, React.createElement(Card, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 11\n    }\n  }, React.createElement(CardBody, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 13\n    }\n  }, React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      fontWeight: \"bold\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 15\n    }\n  }, React.createElement(CardText, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 17\n    }\n  }, \"Date:\"), React.createElement(CardText, {\n    style: {\n      marginLeft: 60\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 17\n    }\n  }, date)), React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      fontWeight: \"bold\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 15\n    }\n  }, React.createElement(CardText, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 17\n    }\n  }, \"ETA:\"), React.createElement(CardText, {\n    style: {\n      marginLeft: 60\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 17\n    }\n  }, time)), React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      fontWeight: \"bold\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 15\n    }\n  }, React.createElement(CardText, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 17\n    }\n  }, \"Location:\"), React.createElement(CardText, {\n    style: {\n      marginLeft: 35\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 17\n    }\n  }, location)))))));\n};\n\nexport default Home;","map":{"version":3,"sources":["C:/Users/livea/Documents/programming/nephacks/NepHacks/NepHacks/frontend/frontendapp/src/components/home.js"],"names":["React","useEffect","useState","useCookies","FontAwesomeIcon","faSignOutAlt","Collapse","Navbar","NavbarToggler","NavbarBrand","Nav","NavItem","NavLink","UncontrolledDropdown","DropdownToggle","DropdownMenu","DropdownItem","Card","CardText","CardBody","Button","logo","axios","Home","token","setToken","deleteToken","isOpen","setIsOpen","date","setDate","time","setTime","location","setLocation","userName","setUserName","dashboardClicked","setDashboardClicked","today","Date","getFullYear","getMonth","getDate","get","headers","Authorization","then","response","console","log","getMinutes","data","duration","hr","Math","floor","minutes","ampm","getHours","getSeconds","firstName","catch","error","window","href","logoutClicked","onDashboardClicked","toggle","color","backgroundColor","marginTop","alignItems","justifyContent","margin","display","flexDirection","fontWeight","marginLeft"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,SAASC,eAAT,QAAgC,gCAAhC;AACA,SAASC,YAAT,QAA6B,mCAA7B;AACA,SACEC,QADF,EAEEC,MAFF,EAGEC,aAHF,EAIEC,WAJF,EAKEC,GALF,EAMEC,OANF,EAOEC,OAPF,EAQEC,oBARF,EASEC,cATF,EAUEC,YAVF,EAWEC,YAXF,EAYEC,IAZF,EAaEC,QAbF,EAcEC,QAdF,EAeEC,MAfF,QAgBO,YAhBP;AAiBA,OAAOC,IAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAcA,IAAMC,IAAI,GAAG,SAAPA,IAAO,GAAM;AAAA,oBACsBpB,UAAU,CAAC,CAAC,UAAD,CAAD,CADhC;AAAA;AAAA,MACVqB,KADU;AAAA,MACHC,QADG;AAAA,MACOC,WADP;;AAAA,kBAGWxB,QAAQ,CAAC,KAAD,CAHnB;AAAA;AAAA,MAGVyB,MAHU;AAAA,MAGFC,SAHE;;AAAA,mBAKO1B,QAAQ,EALf;AAAA;AAAA,MAKV2B,IALU;AAAA,MAKJC,OALI;;AAAA,mBAOO5B,QAAQ,EAPf;AAAA;AAAA,MAOV6B,IAPU;AAAA,MAOJC,OAPI;;AAAA,mBASe9B,QAAQ,EATvB;AAAA;AAAA,MASV+B,QATU;AAAA,MASAC,WATA;;AAAA,mBAWehC,QAAQ,EAXvB;AAAA;AAAA,MAWViC,QAXU;AAAA,MAWAC,WAXA;;AAAA,oBAa+BlC,QAAQ,CAAC,CAAD,CAbvC;AAAA;AAAA,MAaVmC,gBAbU;AAAA,MAaQC,mBAbR;;AAejBrC,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIsC,KAAK,GAAG,IAAIC,IAAJ,EAAZ;AAAA,QACEX,IAAI,GACFU,KAAK,CAACE,WAAN,KACA,GADA,IAECF,KAAK,CAACG,QAAN,KAAmB,CAFpB,IAGA,GAHA,GAIAH,KAAK,CAACI,OAAN,EANJ;AAOAb,IAAAA,OAAO,CAACD,IAAD,CAAP;AAEAP,IAAAA,KAAK,CACFsB,GADH,CACO,cADP,EACuB;AACnBC,MAAAA,OAAO,EAAE;AAAEC,QAAAA,aAAa,cAAYtB,KAAK,CAAC,UAAD;AAAhC;AADU,KADvB,EAIGuB,IAJH,CAIQ,UAACC,QAAD,EAAc;AAClBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACA,UAAIjB,IAAI,GAAG,CAAX;;AACA,UAAIQ,KAAK,CAACY,UAAN,KAAqBH,QAAQ,CAACI,IAAT,CAAcC,QAAnC,IAA+C,EAAnD,EAAuD;AACrD,YAAIC,EAAE,GAAGC,IAAI,CAACC,KAAL,CACP,CAACjB,KAAK,CAACY,UAAN,KAAqBH,QAAQ,CAACI,IAAT,CAAcC,QAApC,IAAgD,EADzC,CAAT;AAGA,YAAII,OAAO,GAAG,CAAClB,KAAK,CAACY,UAAN,KAAqBH,QAAQ,CAACI,IAAT,CAAcC,QAApC,IAAgD,EAA9D;AACA,YAAIK,IAAI,GAAGJ,EAAE,IAAI,EAAN,GAAW,IAAX,GAAkB,IAA7B;AACAvB,QAAAA,IAAI,GACFQ,KAAK,CAACoB,QAAN,KACAL,EADA,GAEA,GAFA,GAGAG,OAHA,GAIA,GAJA,GAKAlB,KAAK,CAACqB,UAAN,EALA,GAMAF,IAPF;AAQD,OAdD,MAcO;AACL,YAAIA,IAAI,GAAGnB,KAAK,CAACoB,QAAN,MAAoB,EAApB,GAAyB,IAAzB,GAAgC,IAA3C;AACA5B,QAAAA,IAAI,GACFQ,KAAK,CAACoB,QAAN,KACA,GADA,IAECpB,KAAK,CAACY,UAAN,KAAqBH,QAAQ,CAACI,IAAT,CAAcC,QAFpC,IAGA,GAHA,GAIAd,KAAK,CAACqB,UAAN,EAJA,GAKAF,IANF;AAOD;;AAED1B,MAAAA,OAAO,CAACD,IAAD,CAAP;AACAG,MAAAA,WAAW,CAACc,QAAQ,CAACI,IAAT,CAAcnB,QAAf,CAAX;AACAG,MAAAA,WAAW,CAACY,QAAQ,CAACI,IAAT,CAAcS,SAAf,CAAX;AACD,KAnCH,EAoCGC,KApCH,CAoCS,UAACC,KAAD,EAAW;AAChBd,MAAAA,OAAO,CAACC,GAAR,CAAYa,KAAZ;AACD,KAtCH;AAwCA,QAAI,CAACvC,KAAK,CAAC,UAAD,CAAV,EAAwBwC,MAAM,CAAC/B,QAAP,CAAgBgC,IAAhB,GAAuB,GAAvB;AACzB,GAnDQ,EAmDN,CAAC5B,gBAAD,EAAmBb,KAAnB,CAnDM,CAAT;;AAqDA,MAAM0C,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AAC1BxC,IAAAA,WAAW,CAAC,CAAC,UAAD,CAAD,CAAX;AACD,GAFD;;AAIA,MAAMyC,kBAAkB,GAAG,SAArBA,kBAAqB,GAAM;AAC/B7B,IAAAA,mBAAmB,CAAC,UAACD,gBAAD;AAAA,aAAsBA,gBAAgB,GAAG,CAAzC;AAAA,KAAD,CAAnB;AACD,GAFD;;AAIA,MAAM+B,MAAM,GAAG,SAATA,MAAS;AAAA,WAAMxC,SAAS,CAAC,CAACD,MAAF,CAAf;AAAA,GAAf;;AAEA,SACE,0CACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,OAAd;AAAsB,IAAA,KAAK,MAA3B;AAA4B,IAAA,MAAM,EAAC,IAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,WAAD;AAAa,IAAA,KAAK,EAAE;AAAE0C,MAAAA,KAAK,EAAE;AAAT,KAApB;AAAwC,IAAA,IAAI,EAAC,GAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,GAAG,EAAEhD,IAAV;AAAgB,IAAA,KAAK,EAAC,IAAtB;AAA2B,IAAA,MAAM,EAAC,IAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,aADF,EAKE,oBAAC,aAAD;AAAe,IAAA,OAAO,EAAE+C,MAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,EAME,oBAAC,QAAD;AAAU,IAAA,MAAM,EAAEzC,MAAlB;AAA0B,IAAA,MAAM,MAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,GAAD;AAAK,IAAA,SAAS,EAAC,SAAf;AAAyB,IAAA,MAAM,MAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,OAAD;AACE,IAAA,KAAK,EAAE;AAAE0C,MAAAA,KAAK,EAAE;AAAT,KADT;AAEE,IAAA,IAAI,EAAC,GAFP;AAGE,IAAA,OAAO,EAAEF,kBAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,CADF,EAUE,oBAAC,oBAAD;AAAsB,IAAA,GAAG,MAAzB;AAA0B,IAAA,QAAQ,MAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,cAAD;AAAgB,IAAA,KAAK,EAAE;AAAEE,MAAAA,KAAK,EAAE;AAAT,KAAvB;AAA2C,IAAA,GAAG,MAA9C;AAA+C,IAAA,KAAK,MAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,EAIE,oBAAC,YAAD;AAAc,IAAA,KAAK,EAAE;AAAEA,MAAAA,KAAK,EAAE;AAAT,KAArB;AAAyC,IAAA,KAAK,MAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,YAAD;AAAc,IAAA,KAAK,EAAE;AAAEA,MAAAA,KAAK,EAAE;AAAT,KAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAIE,oBAAC,YAAD;AAAc,IAAA,KAAK,EAAE;AAAEA,MAAAA,KAAK,EAAE;AAAT,KAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAJF,EAKE,oBAAC,YAAD;AAAc,IAAA,OAAO,MAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,EAME,oBAAC,YAAD;AAAc,IAAA,KAAK,EAAE;AAAEA,MAAAA,KAAK,EAAE;AAAT,KAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YANF,CAJF,CAVF,CADF,EAyBE,oBAAC,MAAD;AACE,IAAA,KAAK,EAAE;AAAEA,MAAAA,KAAK,EAAE,KAAT;AAAgBC,MAAAA,eAAe,EAAE;AAAjC,KADT;AAEE,IAAA,OAAO,EAAEJ,aAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIE,oBAAC,eAAD;AAAiB,IAAA,IAAI,EAAE7D,YAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,WAzBF,CANF,CADF,EA0CE;AAAG,IAAA,KAAK,EAAE;AAAEgE,MAAAA,KAAK,EAAE,OAAT;AAAkBE,MAAAA,SAAS,EAAE;AAA7B,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADF,CA1CF,EA6CE;AAAG,IAAA,KAAK,EAAE;AAAEF,MAAAA,KAAK,EAAE;AAAT,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uDADF,CA7CF,CADF,EAkDE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,KAAK,EAAE;AAAEA,MAAAA,KAAK,EAAE;AAAT,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAsClC,QAAtC,MADF,EAEE;AAAI,IAAA,KAAK,EAAE;AAAEkC,MAAAA,KAAK,EAAE;AAAT,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAFF,EAGE;AACE,IAAA,KAAK,EAAE;AACLG,MAAAA,UAAU,EAAE,QADP;AAELC,MAAAA,cAAc,EAAE,QAFX;AAGLC,MAAAA,MAAM,EAAE,EAHH;AAILC,MAAAA,OAAO,EAAE;AAJJ,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAQE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,KAAK,EAAE;AACLA,MAAAA,OAAO,EAAE,MADJ;AAELC,MAAAA,aAAa,EAAE,KAFV;AAGLC,MAAAA,UAAU,EAAE;AAHP,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAPF,EAQE,oBAAC,QAAD;AAAU,IAAA,KAAK,EAAE;AAAEC,MAAAA,UAAU,EAAE;AAAd,KAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAsCjD,IAAtC,CARF,CADF,EAWE;AACE,IAAA,KAAK,EAAE;AACL8C,MAAAA,OAAO,EAAE,MADJ;AAELC,MAAAA,aAAa,EAAE,KAFV;AAGLC,MAAAA,UAAU,EAAE;AAHP,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAPF,EAQE,oBAAC,QAAD;AAAU,IAAA,KAAK,EAAE;AAAEC,MAAAA,UAAU,EAAE;AAAd,KAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAsC/C,IAAtC,CARF,CAXF,EAqBE;AACE,IAAA,KAAK,EAAE;AACL4C,MAAAA,OAAO,EAAE,MADJ;AAELC,MAAAA,aAAa,EAAE,KAFV;AAGLC,MAAAA,UAAU,EAAE;AAHP,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAPF,EAQE,oBAAC,QAAD;AAAU,IAAA,KAAK,EAAE;AAAEC,MAAAA,UAAU,EAAE;AAAd,KAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAsC7C,QAAtC,CARF,CArBF,CADF,CARF,CAHF,CAlDF,CADF;AAoGD,CAlLD;;AAoLA,eAAeV,IAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faSignOutAlt } from \"@fortawesome/free-solid-svg-icons\";\r\nimport {\r\n  Collapse,\r\n  Navbar,\r\n  NavbarToggler,\r\n  NavbarBrand,\r\n  Nav,\r\n  NavItem,\r\n  NavLink,\r\n  UncontrolledDropdown,\r\n  DropdownToggle,\r\n  DropdownMenu,\r\n  DropdownItem,\r\n  Card,\r\n  CardText,\r\n  CardBody,\r\n  Button,\r\n} from \"reactstrap\";\r\nimport logo from \"../assets/logo.png\";\r\nimport axios from \"axios\";\r\n\r\n/**\r\n * This is the home page of the application where therer will be dashboard shown\r\n * @param {Stores token for sessions } token\r\n * @param {for toggling options} isOpen\r\n * @param {Save date to show in dashboard card} date\r\n * @param {Save time to show in dashboard} time\r\n * @param {Save address to show in dashboard} location\r\n * @param {to show user name of the user in dashboard} userName\r\n * @param {to know if the dashboard is clicked} dashboardClicked\r\n *\r\n */\r\n\r\nconst Home = () => {\r\n  const [token, setToken, deleteToken] = useCookies([\"mr-token\"]);\r\n\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  const [date, setDate] = useState();\r\n\r\n  const [time, setTime] = useState();\r\n\r\n  const [location, setLocation] = useState();\r\n\r\n  const [userName, setUserName] = useState();\r\n\r\n  const [dashboardClicked, setDashboardClicked] = useState(0);\r\n\r\n  useEffect(() => {\r\n    var today = new Date(),\r\n      date =\r\n        today.getFullYear() +\r\n        \"-\" +\r\n        (today.getMonth() + 1) +\r\n        \"-\" +\r\n        today.getDate();\r\n    setDate(date);\r\n\r\n    axios\r\n      .get(\"/getSchedule\", {\r\n        headers: { Authorization: `Bearer ${token[\"mr-token\"]}` },\r\n      })\r\n      .then((response) => {\r\n        console.log(response);\r\n        var time = 0;\r\n        if (today.getMinutes() + response.data.duration >= 60) {\r\n          var hr = Math.floor(\r\n            (today.getMinutes() + response.data.duration) / 60\r\n          );\r\n          var minutes = (today.getMinutes() + response.data.duration) % 60;\r\n          var ampm = hr >= 12 ? \"pm\" : \"am\";\r\n          time =\r\n            today.getHours() +\r\n            hr +\r\n            \":\" +\r\n            minutes +\r\n            \":\" +\r\n            today.getSeconds() +\r\n            ampm;\r\n        } else {\r\n          var ampm = today.getHours() >= 12 ? \"pm\" : \"am\";\r\n          time =\r\n            today.getHours() +\r\n            \":\" +\r\n            (today.getMinutes() + response.data.duration) +\r\n            \":\" +\r\n            today.getSeconds() +\r\n            ampm;\r\n        }\r\n\r\n        setTime(time);\r\n        setLocation(response.data.location);\r\n        setUserName(response.data.firstName);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n\r\n    if (!token[\"mr-token\"]) window.location.href = \"/\";\r\n  }, [dashboardClicked, token]);\r\n\r\n  const logoutClicked = () => {\r\n    deleteToken([\"mr-token\"]);\r\n  };\r\n\r\n  const onDashboardClicked = () => {\r\n    setDashboardClicked((dashboardClicked) => dashboardClicked + 1);\r\n  };\r\n\r\n  const toggle = () => setIsOpen(!isOpen);\r\n\r\n  return (\r\n    <>\r\n      <div>\r\n        <Navbar color=\"light\" light expand=\"md\">\r\n          <NavbarBrand style={{ color: \"green\" }} href=\"#\">\r\n            <img src={logo} width=\"30\" height=\"30\" />\r\n            PickBins\r\n          </NavbarBrand>\r\n          <NavbarToggler onClick={toggle} />\r\n          <Collapse isOpen={isOpen} navbar>\r\n            <Nav className=\"mr-auto\" navbar>\r\n              <NavItem>\r\n                <NavLink\r\n                  style={{ color: \"green\" }}\r\n                  href=\"#\"\r\n                  onClick={onDashboardClicked}\r\n                >\r\n                  Dashboard\r\n                </NavLink>\r\n              </NavItem>\r\n              <UncontrolledDropdown nav inNavbar>\r\n                <DropdownToggle style={{ color: \"green\" }} nav caret>\r\n                  Options\r\n                </DropdownToggle>\r\n                <DropdownMenu style={{ color: \"green\" }} right>\r\n                  <DropdownItem style={{ color: \"green\" }}>\r\n                    Contacts\r\n                  </DropdownItem>\r\n                  <DropdownItem style={{ color: \"green\" }}>About</DropdownItem>\r\n                  <DropdownItem divider />\r\n                  <DropdownItem style={{ color: \"red\" }}>Help</DropdownItem>\r\n                </DropdownMenu>\r\n              </UncontrolledDropdown>\r\n            </Nav>\r\n            <Button\r\n              style={{ color: \"red\", backgroundColor: \"white\" }}\r\n              onClick={logoutClicked}\r\n            >\r\n              <FontAwesomeIcon icon={faSignOutAlt} />\r\n              Logout\r\n            </Button>\r\n          </Collapse>\r\n        </Navbar>\r\n\r\n        <p style={{ color: \"green\", marginTop: 50 }}>\r\n          <strong>Welcome To PICK BINS </strong>\r\n        </p>\r\n        <p style={{ color: \"green\" }}>\r\n          <strong>Click on Dashboard to refresh time. Thank You! </strong>\r\n        </p>\r\n      </div>\r\n      <div>\r\n        <h1 style={{ color: \"green\" }}>Hello {userName} </h1>\r\n        <h2 style={{ color: \"green\" }}>Your next pickup is scheduled for:</h2>\r\n        <div\r\n          style={{\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            margin: 20,\r\n            display: \"flex\",\r\n          }}\r\n        >\r\n          <Card>\r\n            <CardBody>\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  flexDirection: \"row\",\r\n                  fontWeight: \"bold\",\r\n                }}\r\n              >\r\n                <CardText>Date:</CardText>\r\n                <CardText style={{ marginLeft: 60 }}>{date}</CardText>\r\n              </div>\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  flexDirection: \"row\",\r\n                  fontWeight: \"bold\",\r\n                }}\r\n              >\r\n                <CardText>ETA:</CardText>\r\n                <CardText style={{ marginLeft: 60 }}>{time}</CardText>\r\n              </div>\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  flexDirection: \"row\",\r\n                  fontWeight: \"bold\",\r\n                }}\r\n              >\r\n                <CardText>Location:</CardText>\r\n                <CardText style={{ marginLeft: 35 }}>{location}</CardText>\r\n              </div>\r\n            </CardBody>\r\n          </Card>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"]},"metadata":{},"sourceType":"module"}